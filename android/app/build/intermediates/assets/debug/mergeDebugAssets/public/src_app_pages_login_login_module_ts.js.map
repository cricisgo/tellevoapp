{"version":3,"file":"src_app_pages_login_login_module_ts.js","mappings":"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","sources":["./src/app/pages/login/login-routing.module.ts","./src/app/pages/login/login.module.ts","./src/app/pages/login/login.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    LoginPageRoutingModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { AlertController } from '@ionic/angular';\nimport { NavController } from '@ionic/angular';\nimport { FormGroup, FormControl, Validators, FormBuilder} from '@angular/forms';\nimport { StorageService , Usuario } from '../services/storage.service'\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n\n  formularioLogin: FormGroup;\n  usuarios : Usuario[] = [];\n\n  constructor(private alertController: AlertController, \n              private navController: NavController,\n              private registroService: StorageService, \n              private fb: FormBuilder) { \n                this.formularioLogin = this.fb.group({ \n                  'correo' : new FormControl(\"\", [Validators.required, Validators.email]),\n                  'password' : new FormControl (\"\", Validators.compose([\n                    Validators.required,\n                    Validators.minLength(6),\n                    Validators.maxLength(30),\n                    Validators.pattern('^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])[a-zA-Z0-9]+$')\n                  ]))                \n                })\n              }\n\n  ngOnInit() {\n    let fecha = new Date();\n    console.log(fecha);\n  }\n\n  async Ingresar(){\n    var f = this.formularioLogin.value;\n    var a=0;\n    this.registroService.getUsuarios().then(datos=>{ \n      this.usuarios = datos; \n      if (!datos || datos.length==0){\n        return null;\n      }\n      for (let obj of this.usuarios){\n        if (f.correo == obj.correoUsuario && f.password==obj.passUsuario){\n          a=1;\n          console.log('Ingresado');\n          localStorage.setItem('nombre', obj.nomUsuario)\n          localStorage.setItem('direccion', obj.dirUsuario)\n          \n          localStorage.setItem('lunes', obj.lu)\n          localStorage.setItem('martes', obj.ma)\n          localStorage.setItem('miercoles', obj.mi)\n          localStorage.setItem('jueves', obj.ju)\n          localStorage.setItem('viernes', obj.vi)\n          localStorage.setItem('sabado', obj.sa)\n\n          localStorage.setItem('ingresado','true');\n            if (obj.rolUsuario == \"conductor\"){\n            localStorage.setItem('rol', obj.rolUsuario)\n            this.navController.navigateRoot('perfilc');\n            }\n  \n            if (obj.rolUsuario == \"pasajero\"){\n              localStorage.setItem('rol', obj.rolUsuario)\n              this.navController.navigateRoot('perfilp');\n              }\n        }\n      }//findelfor\n      if(a==0){\n        this.alertMsg();\n      }\n    })\n  }//findelmetodo\n\n  async alertMsg(){\n    const alert = await this.alertController.create({\n      header: 'Â¡Error!',\n      message: 'Los datos ingresados son incorrectos',\n      buttons: ['Aceptar']\n    })\n    await alert.present();\n    return;\n  }\n\n}\n\n"],"names":["Component","AlertController","NavController","FormControl","Validators","FormBuilder","StorageService","LoginPage","constructor","alertController","navController","registroService","fb","formularioLogin","group","required","email","compose","minLength","maxLength","pattern","ngOnInit","fecha","Date","console","log","Ingresar","f","value","a","getUsuarios","then","datos","usuarios","length","obj","correo","correoUsuario","password","passUsuario","localStorage","setItem","nomUsuario","dirUsuario","lu","ma","mi","ju","vi","sa","rolUsuario","navigateRoot","alertMsg","alert","create","header","message","buttons","present","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}